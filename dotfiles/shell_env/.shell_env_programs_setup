###############################################################################
#  Dotfiles installed programs specific environment                           #
###############################################################################

_programs_dir="$(cd "$DOTFILES_HOME/programs"; pwd)"

_private_env_file_name=".shell_env_private"
_public_env_file_name=".shell_env"

while IFS= read -r _program_name; do
    _private_env_file="$_programs_dir/$_program_name/$_private_env_file_name"
    _public_env_file="$_programs_dir/$_program_name/$_public_env_file_name"

    if [ -r "$_public_env_file" ]; then
        echo "Sourcing $_public_env_file"
        . "$_public_env_file"
    fi

    if [ -r "$_private_env_file" ]; then
        echo "Sourcing  $_private_env_file"
        . "$_private_env_file"
    fi
done <<< "$(ls -l1 "$_programs_dir")"